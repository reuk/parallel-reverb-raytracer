parallel raytrace
=================

A raytracer for impulse responses (for reverb), influenced by raster graphics
lighting techniques. Uses OpenCL for IMMENSE SPEED.

build notes
-----------

Only tested on Mac OS X Yosemite.

Mostly C++11, but uses generic lambda parameters from C++1y, so you'll need a
fairly modern C++ compiler to build.
You'll also need CMake to build.

You also need the following libraries installed in a standard location (probably
/usr/local/lib, /usr/local/include) so that CMake can find and link them:
* FFTW (fftw3f)
* Assimp
* Libsndfile
* rapidjson (although this is header-only)

If you're on a Mac with homebrew you can set-up and build with:

```bash
brew install cmake fftw assimp libsndfile
# rapidjson is a bit special because it doesn't have a stable branch
brew install --HEAD homebrew/head-only/rapidjson

cd <path to repo>
mkdir build
cd build
cmake ..
make
```

Once these libraries all have CMake builds of their own I (might) add git
submodules for them.

On Mac OS X the OpenCL framework is used.
Obviously this isn't something that Linuxes have, so at some point I'll try
making the build a bit more platform agnostic, to see if it will run on Linux
as well.

Want docs?
First you'll need to `brew install doxygen`.
Then basic but pretty docs can be generated by running `doxygen` in the root
dir of the project.

to do
-----

* Consider faster intersection-calcluation algorithms
    * Might actually end up slower due to increased divergence

* low frequency estimation?
    * check limiting factors
    * look for different approaches
        * or not :P

* look into different filtering/band-splitting methods
    * check crossover of two-pass biquad filters

* Add a proper testing framework
    * Aim for coverage of all the library-visible functions first
    * Then for coverage of internal functions if time

* check high frequency content - sounds a bit dull
    * might just be my test model

* where is the cutoff between rays and sound?
    * where are balancing points between other constraints?

[x] diffuse vs image source
[x] no direct impulse
[x] make sure all exceptions have catchers
[x] hipass on output?
[x] check octave bands / highpass limit
[x] filtering methods cmd line option
[x] (no) normalization
[x] constant volume scaling
[x] warning if source or mic are outside bounds of model
[x] constant volume scaling factor in max patch
[x] max patch with ability to choose impulses from a menu
[x] no predelay

[?] scenes that should be really echoey aren't
[x] direct impulse not collision-tested

[ ] why no comb filtering in square rooms?
[ ] is there echo in long rooms?
[ ] fix bottom-band filtering
    * where should the bottom cutoff be? 45Hz maybe?
    * what sounds good?
    * check damping coefficients - make some nice-sounding ones
[ ] power/distance law
[ ] compare results to commercial software
[ ] check how portable the software is
[ ] deduce output filetype from extension?
[ ] check the diffuse coefficients

Documentation
=============

* be verbose about what the user has to do
* examples!

Writeup structure
=================

* project scope / goals / domain - what is the problem?

* literature review - previous research, and what it's achieved
    * what have you read?
    * what could you have done?
    * what did you decide to do?

* project design / implementation
    * libraries I've used
    * technologies
    * code structure - algortithm design
    * rationale - why did you decide on this approach

* evaluation
    * progress throughout the project
        * problems you had and how you overcame them
            * specific problems, or specific ways you went about testing
    * what would you change or do differently in future projects?
    * did the process work?


This week - 2/3 audio evaluation and fixing, 1/3 report
